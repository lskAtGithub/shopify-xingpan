{% comment %}
Recommend Section
完全可用，支持多条 Crystals Block，每条可配置：
- 标题
- 图片
- 元素类型
- 价格
- 三个特性
- 按钮颜色根据元素类型自动
{% endcomment %}

<link rel="stylesheet" href="{{ 'recommend.css' | asset_url }}">

<section class="recommend-section py-16 px-0 bg-gray-50">
  <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mb-16">
    <div class="text-center">
      <h2 class="section-title">Elemental Crystal Art</h2>
      <p class="section-desc">
        Each piece is infused with energy to balance your elemental composition, handcrafted with natural crystals and premium materials.
      </p>
    </div>
  </div>

  {% if section.blocks.size > 0 %}
    {% for crystal in section.blocks %}
      {% assign is_even = forloop.index | modulo: 2 %}
      <div class="crystal-block mb-16 bg-white">
        <div class="container mx-auto max-w-7xl">
          <div class="grid md:grid-cols-5 gap-0 {% if is_even == 0 %}flex-row-reverse{% endif %}">
            <!-- 图片区域占3/5 -->
            <div class="md:col-span-3">
              <div class="crystal-img-container relative">
                <img src="{{ crystal.settings.image | img_url: '1200x800' }}" alt="{{ crystal.settings.title }}" class="crystal-img">
                <div class="absolute top-8 left-8 element-badge {{ crystal.settings.element | downcase }}">
                  {{ crystal.settings.element }}
                </div>
              </div>
            </div>

            <!-- 文字区域占2/5 -->
            <div class="md:col-span-2 flex flex-col justify-center p-8 md:p-12">
              <h3 class="text-3xl font-bold mb-4">{{ crystal.settings.title }}</h3>
              <p class="text-gray-600 text-lg mb-6 leading-relaxed">{{ crystal.settings.description }}</p>

              <div class="flex flex-wrap gap-4 mb-8">
                {% for i in (1..3) %}
                  {% assign feature_key = "feature_" | append: i %}
                  {% if crystal.settings[feature_key] != blank %}
                    <div class="flex items-center">
                      <i class="fa fa-check-circle {{ crystal.settings.element | downcase }} mr-2"></i>
                      <span>{{ crystal.settings[feature_key] }}</span>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>

              <div class="flex items-center gap-4">
                <span class="text-stars font-bold text-2xl">${{ crystal.settings.price }}</span>
                <button class="add-to-cart-btn {{ crystal.settings.element | downcase }}">Add to Cart</button>
                <button class="view-btn {{ crystal.settings.element | downcase }}">
                  <i class="fa fa-eye"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  {% endif %}
</section>

{% schema %}
{
  "name": "Recommend",
  "settings": [],
  "blocks": [
    {
      "type": "crystal",
      "name": "Crystals Block",
      "settings": [
        { "id": "title", "type": "text", "label": "Title" },
        { "id": "description", "type": "textarea", "label": "Description" },
        { "id": "element", "type": "text", "label": "Element Name" },
        { "id": "price", "type": "number", "label": "Price", "default": 0 },
        { "id": "image", "type": "image_picker", "label": "Image" },
        { "id": "feature_1", "type": "text", "label": "Feature 1" },
        { "id": "feature_2", "type": "text", "label": "Feature 2" },
        { "id": "feature_3", "type": "text", "label": "Feature 3" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Recommend Section",
      "category": "Custom"
    }
  ]
}
{% endschema %}
